<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
     <div class="wrap">
			<div class="content">
				<div class="content_main">
					<div class="title">
						<a href="login.html">登录</a>
						<span>|</span>
						<a href="register.html">注册</a>
					</div>
					<div>
						<label>用户名</label>
						<input type="text" name="username" id="username" value="" placeholder="设置用户名或昵称" />
					</div>
					<div>
						<label>密码</label>
						<input type="password" name="" id="password1" value="" placeholder="建议至少使用两种组合" />
					</div>
					<div>
						<label>确认密码</label>
						<input type="password" name="password2" id="password2" value="" placeholder="请再输入一次密码" />
					</div>
					<input type="button" name="regist" id="registbtn" value="注册" />
				</div>
			</div>
		</div>

 <script src="../js/jquery-2.1.1.min.js"> </script>
</body>
<script>
  	var username = document.querySelector("#username");
	var password1 = document.querySelector("#password1");
	var password2 = document.querySelector("#password2");
	var registbtn = document.querySelector("#registbtn");
console.log(registbtn);
//点击注册时，判断两次密码输入一致时，才可以注册
registbtn.onclick = function() {
	console.log("ss");
	console.log(password1.value);
	console.log(password2.value);
	var patt1 = /\b([a-z]+) \1\b/;
	if (username.value !== "" && password1.value == password2.value) {
//		alert("注册成功");
		//发送请求
		$.ajax({
			type:"post",
			url: "../php/common.php",
			data:{
				type:"regist",
				username:username.value,
				password:password1.value
			},
			success:function(res){
					console.log(res);
					if(res.err == 0){
					alert("注册成功");
					window.location.href = "login.html";
				}
			}
		});
		
	}else{
		alert('密码不相同')
	}
}
</script>
</html>