<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    *{margin: 0;padding: 0;}
    #context{
        width: 100%;
        height: 650px;
        background:url("img/back.jpg");
        padding-top: 20px;}
    h2{color: #03A9F4;margin: 0 auto;width:70%;height: 30px;text-align: center;margin-top: 150px;}
    input{width: 70%;height: 40px;margin: 0 auto;margin-top: 30px;display: block;
    font-size: 20px;border-radius:5%;outline: none }
    button{width: 50%;height: 40px;margin: 0 auto;display: block;margin-top: 30px;
    outline: none}
    #canvas{display: none}
    #show{width: 100%;height: 670px;}
    </style>
</head>
<body>
   <div id="context" >
        <h2>装逼测试</h2>
        <input id="who" type="text" placeholder="你的炫酷职业是什么？"value="qqqqqq" >
        <button id="ok">提交进行测试</button>
   </div>
   <canvas id="canvas" width="370" height="660" display="none"></canvas>
   <div id="show"></div>
   <img  id="tu"src="http://imglf1.ph.126.net/OgFYUZbmKQt_l5sCvubNWQ==/2032812281904492532.jpg" style="width:370px;height:660px; display:none;">
</body>
<script src="jquery.js"></script>
<script>
     $("#context").hide();
//    $("#ok").click(function(){
      
    var txt=document.getElementById("who").value;
    var canvas = document.getElementById("canvas");
    var ctx=canvas.getContext("2d");
    var img=document.getElementById("tu");
    img.crossOrigin="*";
//    img.crossOrigin = '';
    ctx.drawImage(img, 0, 0)
    ctx.beginPath();
    ctx.fillStyle = "red";
    ctx.font = "30px 楷体";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.fillText(txt, 200,250);
    ctx.closePath();
    //  })
document.onclick=function(){
 var image = new Image();
	image.src = canvas.toDataURL("image/png");
    $("#show").append(image);
    console.log(image);
}
   
   


   
    // ctx.drawImage(img,0,0);
    // ctx.beginPath();
    // ctx.fillStyle = "#FE2823";
    // ctx.font = "30px 微软雅黑";
            // ctx.textAlign = "center";
            // ctx.textBaseline = "middle";
            // ctx.fillText(txt,120,270);
            // ctx.closePath();
  
	// body.append(image);
    // $("#canvas").hide();
   

</script>
</html>